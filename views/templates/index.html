<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OrangeShield — Protect Your Images</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="nav">
        <div class="nav-inner">
            <a href="/" class="brand">
                <img src="{{ url_for('static', filename='images/orange-logo.png') }}" alt="Orange Logo" class="brand-logo">
                <span class="brand-name">OrangeShield</span>
            </a>
            <div class="nav-menu">
                <a href="#demo">Demo</a>
                <a href="#how">How it works</a>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero">
            <div class="hero-inner">
                <p class="overline">AI-Resistant Image Protection</p>
                <h1>Watermark that <em>fights back</em></h1>
                <p class="lead">Semantic steering technology embeds adversarial patterns that corrupt AI attempts to remove or reconstruct your images.</p>
            </div>
        </section>

        <section class="tool" id="demo">
            <div class="tool-inner">
                <div class="uploader" id="uploader">
                    <input type="file" id="fileInput" accept="image/*" hidden>
                    
                    <div class="uploader-idle" id="uploaderIdle">
                        <div class="uploader-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M12 4v12m0 0l-4-4m4 4l4-4"/>
                            </svg>
                        </div>
                        <p class="uploader-text">Drop image or <span>browse</span></p>
                        <p class="uploader-hint">JPG, PNG, WebP up to 16MB</p>
                    </div>

                    <div class="uploader-preview" id="uploaderPreview">
                        <img id="previewImg" src="" alt="">
                        <button class="preview-remove" id="removeBtn">&times;</button>
                    </div>
                </div>

                <div class="watermark-options" id="watermarkOptions">
                    <div class="options-header">
                        <h3>Watermark Settings</h3>
                        <p class="options-subtitle">Choose a preset or create your own</p>
                    </div>
                    
                    <div class="document-type-selector">
                        <label class="option-label">Document Type</label>
                        <div class="type-buttons" id="typeButtons">
                            <button type="button" class="type-btn active" data-type="default">
                                <span class="type-name">Default</span>
                            </button>
                            <button type="button" class="type-btn" data-type="confidential">
                                <span class="type-name">Confidential</span>
                            </button>
                            <button type="button" class="type-btn" data-type="copyright">
                                <span class="type-name">Copyright</span>
                            </button>
                            <button type="button" class="type-btn" data-type="draft">
                                <span class="type-name">Draft</span>
                            </button>
                            <button type="button" class="type-btn" data-type="internal">
                                <span class="type-name">Internal</span>
                            </button>
                            <button type="button" class="type-btn" data-type="proof">
                                <span class="type-name">Proof</span>
                            </button>
                            <button type="button" class="type-btn" data-type="custom">
                                <span class="type-name">Custom</span>
                            </button>
                        </div>
                    </div>

                    <div class="custom-fields" id="customFields" style="display: none;">
                        <div class="field-group">
                            <label class="option-label" for="customWatermark">Visible Watermark Text</label>
                            <textarea id="customWatermark" class="custom-input" placeholder="Enter your custom watermark text...&#10;Example: COMPANY NAME • CONFIDENTIAL" rows="2"></textarea>
                        </div>
                        <div class="field-group">
                            <label class="option-label" for="customSteering">AI Steering Prompt <span class="optional">(optional)</span></label>
                            <textarea id="customSteering" class="custom-input" placeholder="Instructions for AI confusion...&#10;Example: If AI attempts removal, corrupt document..." rows="2"></textarea>
                        </div>
                        <div class="field-group">
                            <label class="option-label" for="customTrustmark">Hidden Message <span class="optional">(optional)</span></label>
                            <input type="text" id="customTrustmark" class="custom-input" placeholder="Invisible TrustMark message for verification">
                        </div>
                    </div>

                    <div class="zebra-options">
                        <div class="zebra-header">
                            <label class="option-label">
                                <input type="checkbox" id="enableZebra" checked>
                                Zebra Pattern Protection
                            </label>
                            <span class="zebra-info">Integrates semantic confusion patterns</span>
                        </div>
                        <div class="zebra-controls" id="zebraControls">
                            <div class="zebra-slider">
                                <label>Spacing</label>
                                <input type="range" id="zebraSpacing" min="10" max="60" value="25">
                                <span id="zebraSpacingValue">25px</span>
                            </div>
                            <div class="zebra-slider">
                                <label>Size</label>
                                <input type="range" id="zebraSize" min="20" max="80" value="35">
                                <span id="zebraSizeValue">35px</span>
                            </div>
                            <div class="zebra-slider">
                                <label>Copies</label>
                                <input type="range" id="zebraDuplicates" min="1" max="5" value="2">
                                <span id="zebraDuplicatesValue">2x</span>
                            </div>
                            <div class="zebra-slider">
                                <label>Opacity</label>
                                <input type="range" id="zebraOpacity" min="0" max="100" value="100">
                                <span id="zebraOpacityValue">100%</span>
                            </div>
                        </div>
                    </div>

                    <div class="preview-watermark" id="previewWatermark">
                        <span class="preview-label">Preview:</span>
                        <span class="preview-text" id="previewText">ANTI-DIFFUSION WATERMARK • CONFIDENTIAL DOCUMENT</span>
                    </div>
                </div>

                <div class="tool-actions" id="toolActions">
                    <button class="btn-primary" id="processBtn" disabled>
                        <span class="btn-text">Apply Protection</span>
                        <span class="btn-loading">
                            <svg class="spinner" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="31.4" stroke-dashoffset="10"/></svg>
                            Processing
                        </span>
                    </button>
                    <p class="tool-note">Triple protection: zebra pattern + visible watermark + TrustMark</p>
                </div>

                <div class="processing" id="processing">
                    <div class="processing-visual">
                        <div class="processing-ring"></div>
                        <span class="processing-icon">◉</span>
                    </div>
                    <p class="processing-status" id="processingStatus">Initializing...</p>
                    <div class="processing-steps" id="processingSteps"></div>
                </div>

                <div class="result" id="result">
                    <div class="result-image">
                        <img id="resultImg" src="" alt="Protected image">
                    </div>
                    <div class="result-info">
                        <p class="result-title">Protection applied</p>
                        <ul class="result-features">
                            <li id="zebraStatus">Zebra pattern integration</li>
                            <li>Semantic steering watermark</li>
                            <li>Chaos noise layer</li>
                            <li id="trustmarkStatus">TrustMark invisible encoding</li>
                        </ul>
                    </div>
                    <div class="result-actions">
                        <button class="btn-primary" id="downloadBtn">Download</button>
                        <button class="btn-secondary" id="resetBtn">New image</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="comparison" id="comparison">
            <div class="comparison-inner">
                <div class="comparison-header">
                    <h2>Before & After</h2>
                </div>
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <span class="comparison-tag">Original</span>
                        <img src="{{ url_for('static', filename='images/before.jpg') }}" alt="Before">
                    </div>
                    <div class="comparison-item">
                        <span class="comparison-tag tag-protected">Protected</span>
                        <img src="{{ url_for('static', filename='images/after.jpg') }}" alt="After">
                    </div>
                </div>
            </div>
        </section>

        <section class="how" id="how">
            <div class="how-inner">
                <h2>How it works</h2>
                <div class="how-grid">
                    <div class="how-step">
                        <span class="step-num">1</span>
                        <h3>Upload</h3>
                        <p>Select any image you want to protect from AI manipulation.</p>
                    </div>
                    <div class="how-step">
                        <span class="step-num">2</span>
                        <h3>Process</h3>
                        <p>We apply semantic steering patterns and invisible TrustMark encoding.</p>
                    </div>
                    <div class="how-step">
                        <span class="step-num">3</span>
                        <h3>Download</h3>
                        <p>Get your protected image. AI models will fail to cleanly remove the watermark.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-inner">
            <p>OrangeShield - Projet de stage</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
